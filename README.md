#Hibernate SQL Differ
This script does very basic diff checks on hibernate generated SQL. The idea is 
to provide a utility that helps a developer identify changes in versions of their
hibernate managed databases. This helps developers identify changes that should be
added to sql migration scripts for instance. This has only been tested on PostgreSQL.

##Instructions
These instructions assume the user has a springboot project and it is running on a
dev database instance. 
- Turn hibernate ddl-auto to create-drop, show-sql to true, and format_sql to true. 
Below is and example springboot 1 config for the above.

```yaml
spring:
  datasource:
    datasource_stuff_goes: here
  jpa:
    hibernate:
      ddl-auto: create-drop
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    show-sql: true
    properties:
      hibernate:
        format_sql: true
```

- Run start the springboot app and copy the hibernate generated sql into a file called `master.sql`.
Ignore the initial drop statements generated by hibernate. The sql should look something like follows:
```sql
Hibernate:
create table some_table (
  id int8 not null,
  name varchar(255),
  primary key (id)
)
Hibernate:
create table another_table (
  id int8 not null,
  stuff varchar(255),
  primary key (id)
)
```
- Remove all the "Hibernate:" entries and add semi colons to the sql. A regex replace of 
`\s*Hibernate:` with `;\n` should do the trick for the most part.
- Make the changes to your hibernate code and repeat the steps above and save them to a file called
`current.sql`.
- Point the `main.py` script at these files and run `python main.py`. This will generate the file
`results.sql` file which highlights changes in the hibernate sql to show you what changes have occurred
between versions of the database.